<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>User info</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" href="/static/css/bootstrap.min.css">
</head>
<body>

<div class="container mt-5 border rounded">

    <div class="border-bottom my-1">
        <h3 th:text="${user.name}">Mr. Name Surname</h3>
        <h5 th:text="${user.email}" class="text-muted">email@email.com</h5>
        <!--        <form method="post" action="/logout">-->
        <!--            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">-->
        <!--            <button type="submit">Log out</button>-->
        <!--        </form>-->
    </div>

    <div class="my-2">

        <p th:if="!${accounts}" class="display-6">No accounts yet</p>

        <div th:if="${accounts}">
            <p class="display-6" th:text="|Accounts(${accounts.size()}/${user.maxAccounts})|">Accounts(1/5)</p>

            <table>
                <tr class="lead" th:each="account : ${accounts}">
                    <td class="pe-1" th:text="|${#numbers.formatInteger(account.number, 6)}:|">000000:</td>
                    <td class="pe-2" th:text="|${account.getAmount()} ${account.getCurrency()}|">100 RUB</td>
                    <td>
                        <a class="btn btn-info" th:href="@{/accounts/{num}(num=${account.number})}">Info</a>
                    </td>
                </tr>
            </table>

        </div>

        <form method="post" class="mt-3" th:action="@{/accounts}" th:if="${accounts.size() < user.maxAccounts}">
            <label for="currency" class="form-label">Pick currency:</label>
            <select name="currency" id="currency" class="form-select-sm">
                <option th:each="currency : ${T(com.github.kolizey72.riverbank.entity.Currency).values()}"
                        th:value="${currency}" th:text="${currency}"
                        th:selected="${currency == currency.RUB}"/>
            </select>

            <button type="submit" class="btn btn-secondary">Add account</button>
        </form>

    </div>

</div>

</body>
</html>